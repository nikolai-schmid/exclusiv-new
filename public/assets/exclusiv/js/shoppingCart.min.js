function ShoppingCart(){this.init()}var $=jQuery;window.onload=function(){new ShoppingCart},ShoppingCart.prototype.init=function(){this.setListeners()},ShoppingCart.prototype.setListeners=function(){for(var a=this,b=$("#shopping-cart-items").find("a"),c=0;c<b.length;c++)b[c].onclick=function(b){return a.executeLink(this.href),b.stopPropagation(),!1};for(var d=$(".buy-form-container").find(".btn"),c=0;c<d.length;c++)d[c].onclick=function(b){var c=$($(this).parent());return $.ajax({type:"POST",url:c.attr("action"),data:c.serialize(),success:function(b){a.refreshShoppingCart(b)}}),b.stopPropagation(),!1}},ShoppingCart.prototype.executeLink=function(a){var b=this;$.ajax({url:a,method:"POST",type:"JSON",success:function(a){b.refreshShoppingCart(a)}})},ShoppingCart.prototype.refreshShoppingCart=function(a){var b=$("#shopping-cart");b.length>0?b.replaceWith(a):$("#sidebar").prepend(a),this.setListeners()};